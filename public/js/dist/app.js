!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"
};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){
angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0
},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"
};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){
angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){
console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),
t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")});
}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");
e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(document.querySelector(".add_report_toggle")).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,console.log(this),angular.element(this).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,console.log(this),angular.element(this).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,console.log(this),angular.element(this).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a);
}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,console.log(this),angular.element(this).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,console.log(this),angular.element(this).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,console.log(this),angular.element(this).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,console.log(this),angular.element(this).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,console.log(this),angular.element(this).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,console.log(this),angular.element(this).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,console.log(this),angular.element(this).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,console.log(this),angular.element(this).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files
}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,console.log(this),angular.element(this).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,console.log(this),angular.element(this).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,console.log(this),angular.element(this).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(this).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(this).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(this).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(this).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(this).css("transform","rotate(45deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){
e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(this).css("transform","rotate(90deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(this).css("transform","rotate(90deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(this).css("transform","rotate(90deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(this).css("transform","rotate(90deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,
new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n);
},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){
console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",
e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),
e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),angular.module("fp").directive("dropzone",function(e){
return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),!function(e){$(document).ready(function(e){console.log(e),
e(".add_report_toggle").on("click",function(){console.log("hi");var t=e(this);container=t.closest(".upload")[0],console.log(container),t.css("transform","rotate(90deg)"),container.toggleClass(".open")})})}(jQuery),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{
featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var u=document.querySelector("input[type=file]");u.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name,o=document.querySelector(".file_choice"),r=document.querySelector(".selected");angular.element(o).css("display","none"),angular.element(r).text(n)},e.addFP=function(){var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(t){e.loading="done"}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var u=document.querySelector("input[type=file]");u.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name,o=document.querySelector(".file_choice"),r=document.querySelector(".selected");angular.element(o).css("display","none"),angular.element(r).text(n)},e.addFP=function(){var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(t){e.loading="done"}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var u=document.querySelector("input[type=file]");u.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name,o=document.querySelector(".file_choice"),r=document.querySelector(".selected");angular.element(o).css("display","none"),angular.element(r).text(n)},e.addFP=function(){var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(t){e.loading="done"}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",
elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",
controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){
console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{
color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",
elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",
elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",
controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0
},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",
stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",
elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){var i=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#ffefbf"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#8c2c2c"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3c68b"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#d6cf98"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#d5e2a4"},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],s=new google.maps.StyledMapType(i,{name:"Styled Map"});e.mapOptions={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0},e.map=o.newMap(document.getElementById("map_canvas"),e.mapOptions),e.map.mapTypes.set("map_style",s),e.map.setMapTypeId("map_style");var c={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,c),e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading=!1,e.dropFiles={},e.addFP=function(){e.isSending=!0;var t=document.getElementById("fishPlace"),n=t.elements,o=new FormData;o.append("coord",e.coords),angular.forEach(n,function(e){e.value&&("file"==e.getAttribute("type")?angular.forEach(e.files,function(e){o.append("pictures",e)}):o.append(e.name,e.value))}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){o.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:o}).success(function(e){}),t.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){
200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){
function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),
t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles"},link:function(e,t,n){console.log("hi"),t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){return n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer&&n.dataTransfer.files.length>0&&(e.files=n.dataTransfer.files,console.log(e.files),t.removeClass("drop-zone-hover")),!1})}}}),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){
o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat().toFixed(3),l.lng=t.latLng.lng().toFixed(3),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"
},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){
200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={
lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o
};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise;
}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),fp.controller("homeCtrl",function(e,t,n,o,r,l,a){function i(){r.get("/fppost").success(function(t){angular.forEach(t,function(t){var n=t.title,r=t._id,l=t.pictures[0],a={lat:t.lat,lng:t.lng,content:"<div class='info_window'><h4>"+n+"</h4><div><img  class='win_img' src='img/uploads/"+l+"'></img></div><a href='#/"+r+"'>Open report</a></div>"};o.addMarker(e.map,a)}),e.posts=t,console.log(e.posts)}).error(function(){})}var s=document.querySelector("input[type=file]"),c=document.querySelector(".file_choice"),u=document.querySelector(".selected");e.title="",e.pic_name="",e.coords={lat:0,lng:0},e.loading="",e.dropFiles={};var g={center:new google.maps.LatLng(48.464717,35.046183),zoom:15,mapTypeControl:!0};e.map=o.newMap(document.getElementById("map_canvas"),g),i();var p={lat:48.464717,lng:35.046183,event:{name:"click",callback:function(){console.log("im click")}}};e.marker=o.addMarker(e.map,p),s.addEventListener("change",function(t){e.upfiles(t.target.files)}),e.upfiles=function(e){var t=e.length,n=t>1?t+" files selected":e[0].name;angular.element(c).css("display","none"),angular.element(u).text(n)},e.reset=function(){angular.element(c).css("display",""),angular.element(u).text("")},e.addFP=function(t){t.lat=e.coords.lat,t.lng=e.coords.lng,console.log(t);var n=document.querySelector("input[type=file]"),o=document.getElementById("fishPlace"),l=(o.elements,new FormData);angular.forEach(t,function(e,t){l.append(t,e)}),n.files&&angular.forEach(n.files,function(e){l.append("pictures",e)}),e.dropFiles&&(console.log("drop"),angular.forEach(e.dropFiles,function(e){l.append("pictures",e)})),r({method:"post",url:"/upload",headers:{"Content-Type":void 0},data:l}).success(function(t){e.loading="done",angular.element(u).html("Done!<a ng-click='reset()'>Upload more!<a>")}),o.reset()},e.$on("clicked",function(){e.$apply(function(){e.coords=o.getCurrentCords()})}),e.isOpen=!1,e.toggle=function(){e.isOpen=!e.isOpen,angular.element(this).css("transform","rotate(90deg)")},e.logout=function(){l.logout().then(function(){t.cur_user=null,n.url("/login")})}}),fp.controller("loginCtrl",function(e,t,n,o,r,l){e.logIn=function(e){r.login(e).then(function(e){o.cur_user=e.user,n.url("/home")})["catch"](function(e){l.error(e),n.url("/login")})}});var fp=angular.module("fp",["ngRoute"]);fp.run(function(e){e.auth=!1,e.cur_user="",e.error=""}),fp.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/main.html"}).when("/login",{templateUrl:"templates/login.html",controller:"loginCtrl",asses:!1}).when("/registration",{templateUrl:"templates/registr.html",controller:"registrCtrl"}).when("/home",{templateUrl:"templates/home.html",controller:"homeCtrl"}).otherwise({template:"<h1>404 page not found</h1>"}),t.html5Mode(!0)}]),fp.controller("mainCtrl",function(e,t){}),fp.controller("registrCtrl",function(e,t,n,o,r,l){e.newUser={regname:"",regpassword:"",email:""},e.addUser=function(e){r.register(e).then(function(e){e.status&&(o.url("/login"),l.success(e.status))})["catch"](function(e){l.error(e.error)})}}),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,
type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error);
}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),
n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.jpg"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.jpg"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){
function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.jpg"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.jpg"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.jpg"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.jpg"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.jpg"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.jpg"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.jpg"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){
function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){
"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").directive("dropzone",function(e){return{restrict:"A",scope:{loading:"=loading",files:"=dropFiles",handleFile:"&"},link:function(e,t,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("drop-zone-hover")}),t.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.removeClass("drop-zone-hover")}),t.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),console.log(n),n.dataTransfer){var o=n.dataTransfer.files.length;o>0&&(console.log(n.dataTransfer.files),e.handleFile({files:n.dataTransfer.files}),e.files=n.dataTransfer.files,t.removeClass("drop-zone-hover"))}return!1}),"done"==e.loading&&(console.log("done"),angular.element(selected).text("Done!")),t.removeClass("drop-zone-hover")}}}),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]),angular.module("fp").service("AuthService",["$rootScope","$q","$http",function(e,t,n){function o(e){var o=t.defer();return n.post("/login",e).success(function(e,t){200===t&&e.user?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function r(e){var o=t.defer();return n.post("/registration",e).success(function(e,t){200===t&&e.status?o.resolve(e):o.reject(e.error)}).error(function(e){o.reject(e.error)}),o.promise}function l(){var e=t.defer();return n.get("/logout").success(function(t,n){"logout successfully"===t.status&&e.resolve(t)}).error(function(){e.reject()}),e.promise}function a(){}e.error="",e.curr_user="";var i={isLoggedIn:a,login:o,logout:l,register:r};return i}]),angular.module("fp").factory("FlashService",["$rootScope","$timeout",function(e,t){function n(n){e.msg={text:n,type:"success"},t(r,5e3)}function o(n){e.msg={text:n,type:"danger"},t(r,5e3)}function r(){e.msg=null}e.msg=null;var l={success:n,error:o};return l}]),angular.module("fp").factory("mapService",["$rootScope",function(e){function t(e,t){return e.map=t,new google.maps.Marker(e)}function n(e,t){o&&o.setPosition?o.setPosition({lat:t.lat,lng:t.lng}):o=r.addMarker(e,t)}var o,r={},l={};return r.newMap=function(t,o){this.map=new google.maps.Map(t,o);var r=this;return google.maps.event.addListener(this.map,"click",function(t){l.lat=t.latLng.lat(),l.lng=t.latLng.lng(),e.$broadcast("clicked");var o={lat:t.latLng.lat(),lng:t.latLng.lng(),draggable:!0,icon:"../img/gps.png"};n.apply(this,[r.map,o])}),this.map},r.addEvent=function(e,t,n){var o=this;google.maps.event.addListener(e,t,function(e){n.call(o,e)})},r.addMarker=function(e,n){var o;return n.position={lat:n.lat,lng:n.lng},o=t(n,e),n.event&&this.addEvent(o,n.event.name,n.event.callback),n.content&&this.addEvent(o,"click",function(){var t=new google.maps.InfoWindow({content:n.content});t.open(e,o)}),o},r.addNewMarker=function(e,t){var n=this;this.addEvent(e,"click",function(o){console.log("lat: "+o.latLng.lat()+"lng: "+o.latLng.lng()),t.lat=o.latLng.lat(),t.lng=o.latLng.lng(),t.event={name:"click",callback:function(){console.log("im click")}},t.draggable=!0,n.addMarker(e,t)})},r.getCurrentCords=function(){return l},r}]);